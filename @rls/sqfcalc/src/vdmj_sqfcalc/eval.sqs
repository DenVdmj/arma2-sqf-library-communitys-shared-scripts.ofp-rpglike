private"_ourContext";_ourContext=["_ourContext","_fSetDisplayMode","_fGetVarType","_fIsNil","_fParseTree","_typesTable","_evalResult","_isShowTypesModeOn","_emptyDetector","_sideUnknown"];private _ourContext;_fSetDisplayMode={{ctrlShow[_x,_x==_this]}foreach[102,103,104];ctrlShow[105,102==_this];};_typesTable=["array","","%1","group","","group: %1","object","","object: %1","side","","side: %1","bool","","bool: %1","string","","string: ""%1""","number","","number: %1","unknown","","unknown: %1","undefined","","undefined: %1"];_emptyDetector="EmptyDetector"createVehicle[0,0,0];_sideUnknown=side _emptyDetector;deleteVehicle _emptyDetector;_fGetVarType={if(_this in[1e+999,-1e+999,1e+999-1e+999])then{6}else{if(!(_this in[_this]))then{0}else{if(_this in[true,false])then{4}else{if(_this in[east,west,resistance,civilian,sideFriendly,sideEnemy,sideLogic,_sideUnknown])then{3}else{ctrlSetText[98743,""];ctrlSetText[98743,_this];if(ctrlText 98743!="")then{5}else{if((("all"countType[_this])!=0)||(_this in[grpNull,objNull])||(format["%1",_this]in["NOID empty","NOID camera"]))then{if(_this in[group leader _this])then{1}else{2}}else{if(_this-_this==0)then{6}else{7}}}}}}}};_fIsNil={private"_result";_result=true;(_this select 0)call{_result=false};_result};_fParseTree={private["_input","_baseInput","_ehScalar","_ehArrayOpen","_ehArrayClose","_fWalkTree"];_fWalkTree={private["_value","_depth","_indent","_comma","_type","_i"];_value=(_this select(0));_depth=(_this select(1));_indent=(_this select(2));_comma=(_this select(3));if([_value]call _fIsNil)then{_type=8;call _ehScalar;};_type=_value call _fGetVarType;if(_type==0)then{_i=count _value;call _ehArrayOpen;{_i=_i-1;[_x,_depth+1,_indent+_baseInput,["",","]select(_i!=0)]call _fWalkTree}foreach _value;call _ehArrayClose;}else{call _ehScalar};};_input=(_this select(0));_baseInput=(_this select(1));_ehScalar=(_this select(2));_ehArrayOpen=(_this select(3));_ehArrayClose=(_this select(4));[_input,0,"",""]call _fWalkTree;};_evalResult=call{private _ourContext;call ctrlText 100};lbClear 103;103 call _fSetDisplayMode;ctrlSetText[104,format["%1",_evalResult]];_isShowTypesModeOn=ctrlText 108==localize"STR_SQFCALC_ShowTypesModeOn";[_evalResult,"    ",{lbAdd[103,_indent+format[["%1",(_typesTable select(_type)*3+2)]select _isShowTypesModeOn,_value]+_comma]},{lbAdd[103,_indent+"["]},{lbAdd[103,_indent+"]"+_comma]}]call _fParseTree;