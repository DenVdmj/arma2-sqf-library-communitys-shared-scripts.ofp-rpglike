<!doctype html>
<html>
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=windows-1251" />
<style type="text/css">
body { margin: auto; }
pre {
padding: 1em 4em;
}
pre.code,
pre.code b,
pre.code i,
pre.code s,
pre.code u,
pre.code tt,
pre.code em,
pre.code var {
text-decoration: none;
font: normal normal 14px/150% Consolas, monospace;
}
pre.code b  {color:#009}
pre.code i  {color:#080}
pre.code s  {color:#BBB; font-style: italic}
pre.code u  {color:#0A0}
pre.code tt {color:#994}
pre.code em {color:#A00}
pre.code var {color:#5E5E5E}

hr { margin: 1em 0 1em 0; border: 1px dashed #ccc; }
#unfoldcode:hover { cursor: hand; color: red }
</style>
</head>
<body>
<pre class="code">


<s>---sqf---</s>
НПС и их диалоги
Неписи регистрируются в файле <i>"NPC\register.sqf"</i>:

<s>// Имя объекта NPC, файл с разговорами, путь задается относительно папки "NPC\Conversation\&lt;LANG>\"
// &lt;LANG> -- язык вашей локализации</s>
<b>[</b>Object_AnyNPC<b>,</b> <i>"AnyNPCFolder\ConversationFile.sqf"</i><b>],</b>
<s>// Можно зарегиститровать сразу всю группу члены которой будут использовать один файл разговоров:</s>
<b>[</b>Group_GroupOfNPC<b>,</b> <i>"GroupOfNPCFolder\ConversationFile.sqf"</i><b>],</b>
<s>// Можно зарегиститровать сразу всех юнитов находящихся на территории триггера, все они будут использовать один файл разговоров:</s>
<b>[</b>TRIG_AnyLocationName<b>,</b> <i>"AnyLocationName\ConversationFile.sqf"</i><b>]</b>

Кстати<b>,</b> не забывайте<b>,</b> что Вы можете поставить триггер с активацией
на кого угодно<b>,</b> на сторону<b>,</b> или на конкретную группу ботов

Пример файла разговора:

<s>// подключить макросы (тербуется аддон rls, но он вообще требуется)</s>
<em>#include "rls\macro"</em>

<b>[</b>
    <s>// начало фрейма</s>
    <i>"вход"</i><b>,</b> <s>// имя фрейма</s>
    <b>{</b>
        <s>// setAve - макро которое меняет начальный фрейм непися,
        // теперь, при следующем посещении непися мы будем
        // попадать в фрейм "вход. знакомы"</s>
        setAve<b>(</b><i>"вход. знакомы"</i><b>);
        [</b>   <s>// текст непися, строка или массив, если массив, то он выводится в несколько экранов</s>
            <i>"Привет!"</i><b>,
            [</b> <s>// кнопки ответов
                // "текст", "имя фрейма куда осуществляется переход"
                // При выборе этого ответа будет осуществлен выход из разговора</s>
                <b>[</b><i>"Пока"</i><b>,</b> <i>"[exit]"</i><b>],</b>
                <s>// При выборе этого ответа будет осуществлен переход к фрейму "время"</s>
                <b>[</b><i>"Не подскажете время?"</i><b>,</b> <i>"время"</i><b>],</b>
                <s>// При выборе этого ответа будет открыто окно торговли</s>
                <b>[</b><i>"Торговать"</i><b>,</b> <i>"[trade]"</i><b>]
            ]
        ]
    },</b>
    <s>// конец фрейма
    // еще один фрейм</s>
    <i>"вход. знакомы"</i><b>,
    {
        [</b>
            <i>"Это снова ты?"</i><b>,
            [
                [</b><i>"Пока"</i><b>,</b> <i>"[exit]"</i><b>],
                [</b><i>"Время не подскажете?"</i><b>,</b> <i>"время"</i><b>],
                [</b><i>"Торговать"</i><b>,</b> <i>"[trade]"</i><b>]
            ]
        ]
    },</b>
    <i>"время"</i><b>,
    {
        [</b>
            <i>"Сейчас "</i> + <b>(</b><em>daytime</em> <b>call</b> <em>preprocessFile</em> <i>"Lib\ru.time.sqf"</i><b>),</b> <s>// подставляется значение, которое вернула функция "Lib\ru.time.sqf"</s>
            <b>[
                [</b><i>"Пока"</i><b>,</b> <i>"[exit]"</i><b>],
                [</b><i>"Торговать"</i><b>,</b> <i>"[trade]"</i><b>]
            ]
        ]
    }
]</b>


</pre>
</body>
</html>