<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>default.sqf</title>
<meta name="Generator" content="SciTE - www.Scintilla.org" />
<style type="text/css">
.S0 {
	color: #3B3B3B;
}
.S2 {
	font-style: italic;
	color: #1B6683;
}
.S5 {
	color: #FFFFFF;
}
.S6 {
	color: #58BE60;
}
.S9 {
	color: #FF6F6F;
}
.S10 {
	color: #CFCFCF;
}
.S16 {
	color: #1FCB97;
}
span {
	font-family: 'Consolas';
	color: #ABB0A8;
	font-size: 11pt;
}
</style>
</head>
<body bgcolor="#0B1215">
<span><span class="S2">// SQF: NPC Conversation</span><br />
<span class="S9">#include "rls\macro"</span><br />
<span class="S10">[</span><br />
    <span class="S6">"вход"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        setAve<span class="S10">(</span><span class="S6">"вход. знакомы"</span><span class="S10">);</span><br />
        _talkLink <span class="S10">=</span> <span class="S10">[</span><span class="S6">"потолковать"</span><span class="S10">,</span> <span class="S6">"потолковать с лидером"</span><span class="S10">]</span> <span class="S16">select</span> <span class="S10">(</span><span class="S16">leader</span> _npc <span class="S10">==</span> _npc<span class="S10">);</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Привет, я контрабандист %2!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Привет, мне бы потолковать кое о чем."</span><span class="S10">,</span> _talkLink<span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"О, ты крут!"</span><span class="S10">,</span> <span class="S6">"восхитились"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Ты мудак!"</span><span class="S10">,</span> <span class="S6">"оскорбили"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"вход. знакомы"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        _talkLink <span class="S10">=</span> <span class="S10">[</span><span class="S6">"потолковать"</span><span class="S10">,</span> <span class="S6">"потолковать с лидером"</span><span class="S10">]</span> <span class="S16">select</span> <span class="S10">(</span><span class="S16">leader</span> _npc <span class="S10">==</span> _npc<span class="S10">);</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Привет-привет, чего еще тебе?"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Я хочу поговорить кое о чем."</span><span class="S10">,</span> _talkLink<span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Ты очень крут!"</span><span class="S10">,</span> <span class="S6">"восхитились"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Ты просто мудак!"</span><span class="S10">,</span> <span class="S6">"оскорбили"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"потолковать"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Это не ко мне, это к старшему, "</span> <span class="S10">+</span> <span class="S10">(</span><span class="S16">name</span> <span class="S16">leader</span> _npc<span class="S10">)</span> <span class="S10">+</span> <span class="S6">" его зовут."</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Ок, спасибо (выйти)"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"потолковать с лидером"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"А о чем мне с тобой толковать?"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Да о разном"</span><span class="S10">,</span> <span class="S6">"потолковать о разном"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"потолковать о разном"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"О разном потолкуй с разными. До свидания."</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Хмм... (выйти)"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"восхитились"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"А ты свободен!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Понял, не дурак (уйти)"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оскорбили"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S2">// все взяли на прицел игрока</span><br />
        _npc <span class="S5">exec</span> <span class="S10">(</span><span class="S6">"sceneTargetPlayer.sqs"</span> <span class="S5">call</span> _thisPath<span class="S10">);</span><br />
        <span class="S2">// пусть они убьют игрока если он захотел сбежать, закрыв диалог</span><br />
        <span class="S10">{</span><br />
            <span class="S16">titleText</span> <span class="S10">[</span><span class="S6">"Настоящие джентельмены не уходят не закончив разговора!"</span><span class="S10">,</span> <span class="S6">"PLAIN"</span><span class="S10">];</span><br />
            <span class="S10">{</span> <span class="S5">_x</span> <span class="S16">doFire</span> <span class="S16">player</span> <span class="S10">}</span> <span class="S5">foreach</span> <span class="S16">units</span> _npc<span class="S10">;</span><br />
        <span class="S10">}</span> <span class="S5">call</span> _setBye<span class="S10">;</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Я вижу ты ищешь неприятностей, сопляк?! Дак я тебе их обеспечу! Ей ребята!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Я это... я обознался... прости"</span><span class="S10">,</span> <span class="S6">"оправдываемся: 1"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Неприятности? Недотепа, считай что ты уже труп!"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 1"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
         <span class="S10">[</span><br />
            <span class="S6">"Ты хочешь сказать, что еще не готов умереть? Тогда надо извиниться, приятель!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Конечно-конечно, извини пожалуйста!"</span><span class="S10">,</span> <span class="S6">"оправдываемся: 2"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Да я вроде как извинился"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 2"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
         <span class="S10">[</span><br />
            <span class="S6">"Не убедительно, дружок. Ты должен сказать, что ты, недоумок -- раз, слепая овца -- два, и признать, что ты обязан мне своей никчемной жизнь -- три!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Я недоумок..."</span><span class="S10">,</span> <span class="S6">"оправдываемся: 3"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Нет уж"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 3"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
         <span class="S10">[</span><br />
            <span class="S6">"Раз! Продожай, малышка, я весь внимание..."</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Я слепая овца..."</span><span class="S10">,</span> <span class="S6">"оправдываемся: 4"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Лучше умереть, чем терпеть унижение"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 4"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Два!! Неплохо, неплохо! Мне начинает нравиться!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Ты обязан мне своей никчемной жизнь..."</span><span class="S10">,</span> <span class="S6">"облажались"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Это... Ну как его там... ой!"</span><span class="S10">,</span> <span class="S6">"оправдываемся: 5"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Лучше умереть, чем терпеть унижение"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 5"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Чего ты там мямлишь? Совсем язык проглотил?"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Я обязан тебе своей никчемной жизнь..."</span><span class="S10">,</span> <span class="S6">"оправдываемся: 6"</span><span class="S10">],</span><br />
                <span class="S10">[</span><span class="S6">"Лучше умереть, чем терпеть унижение"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"оправдываемся: 6"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
        <span class="S2">// отобрать оружие у игрока на прощание</span><br />
        <span class="S10">{</span> <span class="S16">player</span> <span class="S16">removeWeapon</span> <span class="S16">primaryWeapon</span> <span class="S16">player</span> <span class="S10">}</span> <span class="S5">call</span> _setBye<span class="S10">;</span><br />
<br />
        <span class="S2">// теперь будет новый начальный фрейм</span><br />
        setAve<span class="S10">(</span><span class="S6">"вход. игрока гонят"</span><span class="S10">);</span><br />
<br />
        <span class="S10">[</span><br />
            <span class="S10">[</span><br />
                <span class="S6">"Три!!! А теперь давай сюда свое оружие, девочки должны развлекаться другими штуками!"</span><span class="S10">,</span><br />
                <span class="S6">"Три!!! А теперь давай быстро вали отсюда!"</span><br />
            <span class="S10">]</span> <span class="S16">select</span> <span class="S10">(</span><span class="S16">primaryWeapon</span> <span class="S16">player</span> <span class="S10">==</span> <span class="S6">""</span><span class="S10">),</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Все-все ухожу-ухожу"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"облажались"</span><span class="S10">,</span><br />
    <span class="S10">{</span><br />
         <span class="S10">[</span><br />
            <span class="S6">"Три!!! Стоп-стоп-стоп! Что ты там вякнул? Ны, ты сам на это напросился! Сдохни!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Нееееееет, не надо!!!"</span><span class="S10">,</span> <span class="S6">"тупо сдохнуть"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"тупо сдохнуть"</span><span class="S10">,</span> <span class="S10">{</span><br />
        <span class="S10">{</span> <span class="S5">_x</span> <span class="S16">doFire</span> <span class="S16">player</span> <span class="S10">}</span> <span class="S5">foreach</span> <span class="S16">units</span> _npc<span class="S10">;</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Умри!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"За что?! (конец)"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">},</span><br />
    <span class="S6">"вход. игрока гонят"</span><span class="S10">,</span> <span class="S10">{</span><br />
        <span class="S10">[</span><br />
            <span class="S6">"Пшолвон!"</span><span class="S10">,</span><br />
            <span class="S10">[</span><br />
                <span class="S10">[</span><span class="S6">"Ой! простите (уйти)"</span><span class="S10">,</span> <span class="S6">"[exit]"</span><span class="S10">]</span><br />
            <span class="S10">]</span><br />
        <span class="S10">]</span><br />
    <span class="S10">}</span><br />
<span class="S10">]</span><br />
<span class="S0"></span></span>
</body>
</html>
