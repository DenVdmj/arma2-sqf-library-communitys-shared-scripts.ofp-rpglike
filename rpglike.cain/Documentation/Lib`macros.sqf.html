<!DOCTYPE HTML>
<html>
<head>
<title>«RLS» — /Lib/macros.sqf</title>
<meta charset="windows-1251" />
<style type="text/css">
  html {
    font-family: Helvetica, Arial, sans-serif;
  }
  body {
    margin: auto;
    padding: 1em 0;
    width: 50em;
  }
  h1 i, h1 div, h1 span {
    font-size: 60%;
    font-style: normal;
    line-height: 110%;
    letter-spacing: .3em;
    display: block;
  }

  h1,h2,h3,h4,h5,h6 {
    font: inherit;
    line-height: 110%;
    word-spacing: .1em;
    color: #222;
    clear: both;
    margin: 0;
  }

  h5,h6 {
    font-weight: bold
  }

  h1 {
    font-size: 210%;
    border-bottom: 1px solid #DDD;
    letter-spacing: .1em;
    padding: 0 0 .3em 0;
    margin: 0 0 .3em 0;
    clear: both;
  }

  h2 { font-size:180% }
  h3 { font-size:160% }
  h4 { font-size:140% }
  h5 { font-size:130% }
  h6 { font-size:120% }
  * {
    cursor: default;
  }
  pre {
    padding: 1em 0;
  }
  pre.code,
  pre.code b,
  pre.code i,
  pre.code s,
  pre.code u,
  pre.code tt,
  pre.code em,
  pre.code var {
    text-decoration: none;
    font: normal normal 14px/150% "Consolas", monospace;
  }
  pre.code b  { color: #009; }
  pre.code i  { color: #080; }
  pre.code s  { color: #865; font-style: italic; }
  pre.code u  { color: #0A0; }
  pre.code tt { color: #994; }
  pre.code em { color: #A00; }
  pre.code var { color: #5E5E5E; }

  hr {
    border: none;
    border-bottom: 1px solid #ccc;
    margin: 2em 0 1em 0;
    height: 0;
  }
  #unfoldcode:hover {
    cursor: hand;
    color: red
  }
</style></head>
<body>
<h1>«RLS»<span>/Lib/macros.sqf</span></h1>
<p><small><i>This documentation was generated automatically from the source code.</i></small></p>
<pre class="code">


<s>// SQF</s>

<em>#define</em><em> __q(str)</em> #<em>str</em>
<em>#define</em><em> __project_name</em> rls

<em>#define</em><em> var(name)</em> <tt>__project_name</tt>##<var>_var_</var>##<em>name</em>
<em>#define</em><em> func(name)</em> <tt>__project_name</tt>##<var>_func_</var>##<em>name</em>
<em>#define</em><em> invoke(name)</em> <b>call</b> <var>func(name)</var>

<s>// redefine name preprocessFile</s>
<em>#define</em><em> currentLangAbbr</em> <b>(</b><em>localize</em> <i>"STR:LNG"</i><b>)</b>
<em>#define</em><em> currentLang</em> <b>(</b><em>localize</em> <i>"STR:LANGUAGE"</i><b>)</b>

<s>//
// Arguments macro
//</s>

<em>#define</em><em> arg(i)</em> <b>(</b><var>_this</var> <em>select</em> <b>(</b>i<b>))</b>
<em>#define</em><em> ifExistArg(i)</em> <b>if (</b><em>count</em> <var>_this</var> > <b>(</b>i<b>))</b>
<em>#define</em><em> argIfExist(i)</em> ifExistArg<b>(</b>i<b>) then { arg(</b>i<b>) }</b>
<em>#define</em><em> argOr(i,v)</em> <b>(</b>argIfExist<b>(</b>i<b>) else {</b>v<b>})</b>

<s>//
// Position macro
//</s>

<em>#define</em><em> x(a)</em> <b>((</b>a<b>)</b><em>select</em> 0<b>)</b>
<em>#define</em><em> y(a)</em> <b>((</b>a<b>)</b><em>select</em> 1<b>)</b>
<em>#define</em><em> z(a)</em> <b>((</b>a<b>)</b><em>select</em> 2<b>)</b>
<em>#define</em><em> w(a)</em> <b>((</b>a<b>)</b><em>select</em> 2<b>)</b>
<em>#define</em><em> h(a)</em> <b>((</b>a<b>)</b><em>select</em> 3<b>)</b>

<s>//
// Array macro
//</s>

<em>#define</em><em> push(a,v)</em> <b>(</b>a<b>)</b><em>set</em><b>[</b><em>count</em><b>(</b>a<b>),(</b>v<b>)]</b>
<em>#define</em><em> pushTo(a)</em> <b>call{(</b>a<b>)</b><em>set</em><b>[</b><em>count</em><b>(</b>a<b>),</b><var>_this</var><b>]}</b>
<em>#define</em><em> top(a)</em> <b>((</b>a<b>)</b><em>select</em><b>([</b><em>count</em><b>(</b>a<b>)</b>-1<b>,</b>0<b>]</b><em>select</em><b>(</b><em>count</em><b>(</b>a<b>)</b>&lt;1<b>)))</b>
<em>#define</em><em> pop(a)</em> <b>(</b>0 <b>call{</b><var>_this</var><b>=top(</b>a<b>);(</b>a<b>)</b><em>resize</em><b>([</b><em>count</em><b>(</b>a<b>)</b>-1<b>,</b>0<b>]</b><em>select</em><b>(</b><em>count</em><b>(</b>a<b>)</b>&lt;1<b>));</b><var>_this</var><b>})</b>
<em>#define</em><em> writeTop(a,v)</em> <b>(</b>a<b>)</b><em>set</em><b>[</b><em>count</em><b>(</b>a<b>)</b>-1<b>,</b>v<b>]</b>
<em>#define</em><em> randomSelect(a)</em> <b>((</b>a<b>)</b> <em>select</em> <b>((</b><em>random</em> <em>count</em> <b>(</b>a<b>))</b> - .5<b>) )</b>

<s>//
// Math macro
//</s>

<em>#define</em><em> mathInf</em> 1e9999
<em>#define</em><em> logN(pow,num)</em> <b>((</b><em>log</em><b>(</b>num<b>))</b>/<b>(</b><em>log</em><b>(</b>pow<b>)))</b>
<em>#define</em><em> log2(num)</em> <b>((</b><em>log</em><b>(</b>num<b>))</b>/.3010299956639812<b>)</b>
<em>#define</em><em> round(v)</em> <b>((</b>v<b>)</b>-<b>((</b>v<b>)</b>%1<b>))</b>
<em>#define</em><em> frac(v)</em> <b>((</b>v<b>)</b>-<em>round</em><b>(</b>v<b>))</b>
<em>#define</em><em> xor(a,b)</em> <b>(!((</b>a<b>)&amp;&amp;(</b>b<b>))&amp;&amp;((</b>a<b>)||(</b>b<b>)))</b>
<em>#define</em><em> inc(n)</em> <b>(call{</b>n<b>=</b>n+1<b>;</b>n<b>})</b>
<em>#define</em><em> dec(n)</em> <b>(call{</b>n<b>=</b>n-1<b>;</b>n<b>})</b>
<em>#define</em><em> change(v)</em> v <b>=</b> v
<em>#define</em><em> _(v)</em> <b>_</b>##v <b>= _</b>##v

<s>//
// for, map, grep
//</s>

<em>#define</em><em> map(lst)</em> <b>call{private</b><i>"_0r_"</i><b>;</b><var>_0r_</var><b>=[];{</b><var>_0r_</var> <em>set</em><b>[</b><em>count</em> <var>_0r_</var><b>,call{private</b><i>"_0r_"</i><b>;</b><var>_x</var> <b>call</b> <var>_this</var><b>}]}foreach(</b>lst<b>);</b><var>_0r_</var><b>}</b>
<em>#define</em><em> grep(lst)</em> <b>call{private</b><i>"_0r_"</i><b>;</b><var>_0r_</var><b>=[];{if(call{private</b><i>"_0r_"</i><b>;</b><var>_x</var> <b>call</b> <var>_this</var><b>})then{push(</b><var>_0r_</var><b>,</b><var>_x</var><b>)}}foreach(</b>lst<b>);</b><var>_0r_</var><b>}</b>



</pre>
<p><small><i>This documentation was generated automatically from the source code.</i></small></p>
</body>
</html>
